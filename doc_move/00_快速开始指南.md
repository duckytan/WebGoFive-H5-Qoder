# 00 - 快速开始指南

> **目标读者**: AI开发助手，首次接触本项目  
> **阅读时间**: 15分钟  
> **完成目标**: 理解项目结构，能够在本地运行项目

---

## 1. 项目概览

### 1.1 这是什么项目？

H5五子棋是一款完全基于前端技术实现的五子棋游戏，具备以下特点：

- **纯JavaScript**：无需Node.js、无需构建工具、无需npm
- **即开即用**：双击index.html即可在浏览器中运行
- **功能完整**：包含AI、存档、回放、练习等完整功能
- **代码清晰**：模块化设计，每个文件职责单一

### 1.2 核心功能一览

```
功能清单
├── 四种游戏模式
│   ├── PvP (双人对战)
│   ├── PvE (人机对战, 4级AI难度)
│   ├── EvE (机机对战, AI演示)
│   └── VCF练习 (冲四战术练习)
├── 完整五子棋规则
│   ├── 基础规则 (五连获胜)
│   ├── 禁手规则 (三三/四四/长连)
│   └── 实时检测与提示
├── 辅助功能
│   ├── 棋局保存/加载
│   ├── 棋局回放 (音乐播放器风格)
│   ├── AI提示系统
│   └── 悔棋功能
└── 界面特色
    ├── 木质棋盘风格
    ├── 动画效果
    ├── 响应式设计
    └── 完全离线运行
```

---

## 2. 5分钟运行项目

### 2.1 前置要求

```bash
✅ 现代浏览器 (Chrome 60+ / Firefox 55+ / Safari 12+ / Edge 79+)
✅ 本地HTTP服务器 (可选，推荐用于开发)
❌ 不需要 Node.js
❌ 不需要 npm
❌ 不需要构建工具
```

### 2.2 方法一：直接打开（最简单）

```bash
# 1. 下载项目文件到本地
# 2. 找到 index.html 文件
# 3. 双击打开 或 拖拽到浏览器
# 4. 开始游戏！
```

⚠️ **注意**: 某些功能（如文件加载）可能在file://协议下受限，推荐使用HTTP服务器。

### 2.3 方法二：使用HTTP服务器（推荐）

#### Python (推荐)
```bash
# 进入项目目录
cd gomoku-game

# Python 3
python3 -m http.server 8080

# Python 2
python -m SimpleHTTPServer 8080

# 浏览器访问
open http://localhost:8080
```

#### Node.js
```bash
# 安装http-server (仅首次)
npm install -g http-server

# 启动服务器
cd gomoku-game
http-server -p 8080

# 浏览器访问
open http://localhost:8080
```

#### VS Code Live Server
```bash
# 1. 安装 VS Code 扩展: Live Server
# 2. 右键 index.html
# 3. 选择 "Open with Live Server"
# 4. 自动打开浏览器
```

---

## 3. 项目文件结构

### 3.1 目录树

```
gomoku-game/
├── index.html                  # 主页面 (663行)
├── js/                         # JavaScript模块
│   ├── game-core.js           # ⭐ 游戏核心引擎 (2145行)
│   ├── board-renderer.js      # ⭐ Canvas渲染器 (723行)
│   ├── demo.js                # ⭐ UI交互控制器 (1775行)
│   ├── utils.js               # 工具函数 (302行)
│   ├── game-save-load.js      # 存档管理 (626行)
│   ├── game-replay.js         # 回放系统 (500+行)
│   ├── vcf-practice.js        # VCF练习管理 (847行)
│   └── ai-advanced.js         # 高级AI算法 (692行)
├── css/                        # 样式文件
│   ├── style.css              # 主样式 (1281行)
│   └── animations.css         # 动画效果
└── docs/                       # 原项目文档 (参考用)
```

⭐ 标记表示核心文件，必须优先理解

### 3.2 核心文件职责

| 文件 | 职责 | 依赖 | 导出 |
|------|------|------|------|
| **utils.js** | 通用工具函数 | 无 | `window.GameUtils` |
| **game-core.js** | 游戏逻辑和规则 | GameUtils | `window.GomokuGame` |
| **board-renderer.js** | Canvas渲染 | GameUtils | `window.SimpleBoardRenderer` |
| **demo.js** | UI协调和交互 | 以上3个 | `window.InterfaceDemo` |
| **game-save-load.js** | 存档功能 | GameUtils, GomokuGame | `window.GameSaveLoad` |
| **game-replay.js** | 回放功能 | GameUtils, GomokuGame | `window.GameReplay` |
| **vcf-practice.js** | VCF练习 | GomokuGame | `window.VCFPracticeManager` |
| **ai-advanced.js** | 高级AI | GomokuGame | `window.AdvancedAI` |

### 3.3 模块加载顺序（关键！）

在`index.html`中，脚本必须按照依赖顺序加载：

```html
<!-- 1. 工具函数 (无依赖) -->
<script src="js/utils.js"></script>

<!-- 2. 核心引擎 (依赖utils) -->
<script src="js/game-core.js"></script>

<!-- 3. 高级AI (可选，依赖game-core) -->
<script src="js/ai-advanced.js"></script>

<!-- 4. 渲染器 (依赖game-core) -->
<script src="js/board-renderer.js"></script>

<!-- 5. 存档管理 (依赖game-core) -->
<script src="js/game-save-load.js"></script>

<!-- 6. 回放系统 (依赖game-core) -->
<script src="js/game-replay.js"></script>

<!-- 7. VCF练习 (依赖game-core) -->
<script src="js/vcf-practice.js"></script>

<!-- 8. UI控制器 (依赖以上所有，必须最后加载) -->
<script src="js/demo.js"></script>
```

⚠️ **错误加载顺序会导致模块初始化失败！**

---

## 4. 快速验证

### 4.1 检查模块加载

打开浏览器控制台 (F12)，执行：

```javascript
// 检查核心模块是否正确加载
console.log('GameUtils:', typeof window.GameUtils);              // "object"
console.log('GomokuGame:', typeof window.GomokuGame);            // "function"
console.log('SimpleBoardRenderer:', typeof window.SimpleBoardRenderer); // "function"
console.log('InterfaceDemo:', typeof window.InterfaceDemo);     // "function"

// 检查实例是否创建
console.log('game:', typeof window.game);                        // "object"
console.log('boardRenderer:', typeof window.boardRenderer);      // "object"
console.log('demo:', typeof window.demo);                        // "object"
```

**期望输出**: 所有模块都应该存在且类型正确

### 4.2 测试基本功能

```javascript
// 1. 测试棋盘状态
window.game.getBoardState();  // 应返回 15x15 二维数组

// 2. 测试落子
const result = window.game.placePiece(7, 7);
console.log('落子结果:', result);  // {success: true, gameOver: false, ...}

// 3. 测试悔棋
window.game.undo();

// 4. 测试重置
window.game.reset();
```

### 4.3 界面交互测试

1. ✅ 点击棋盘能够落子
2. ✅ "新游戏"按钮可以重置棋盘
3. ✅ "悔棋"按钮可以撤销落子
4. ✅ "切换模式"按钮可以切换PvP/PvE/EvE/VCF
5. ✅ 禁手位置会显示红色提示

---

## 5. 核心概念速览

### 5.1 游戏状态管理

```javascript
// 游戏核心状态
game.board          // 15x15棋盘数组 (0=空, 1=黑, 2=白)
game.currentPlayer  // 当前玩家 (1=黑, 2=白)
game.gameStatus     // 游戏状态 ('ready', 'playing', 'finished')
game.gameMode       // 游戏模式 ('PvP', 'PvE', 'EvE', 'VCF_PRACTICE')
game.moves          // 落子历史记录数组
```

### 5.2 模块导出模式

所有模块使用统一的导出模式：

```javascript
// 标准模块导出模板
class ModuleName {
    constructor() {
        // 初始化逻辑
    }
    
    // 方法实现...
}

// 模块信息
const MODULE_INFO = {
    name: 'ModuleName',
    version: '1.0.0',
    dependencies: ['DependencyA', 'DependencyB']
};

ModuleName.__moduleInfo = MODULE_INFO;

// 导出到全局
if (typeof window !== 'undefined') {
    window.ModuleName = ModuleName;
}
```

### 5.3 禁手规则核心

```javascript
// 禁手检测 (仅对黑棋)
game.checkForbidden(x, y)  // 返回 {isForbidden: boolean, type: string, ...}

// 三种禁手类型
- 三三禁手: 一步棋形成两个活三
- 四四禁手: 一步棋形成两个四(活四或冲四)
- 长连禁手: 一步棋形成六子及以上连线
```

### 5.4 AI难度系统

```javascript
// 4个AI难度等级
const AI_LEVELS = {
    BEGINNER: { depth: 2, time: 500ms },   // 新手
    NORMAL:   { depth: 3, time: 1000ms },  // 正常
    HARD:     { depth: 4, time: 1800ms },  // 困难
    HELL:     { depth: 5, time: 2500ms }   // 地狱 (含VCF搜索)
};
```

---

## 6. 下一步学习路径

### 6.1 理解需求和架构 (1-2小时)

```
1. 阅读 01_项目需求规格说明书.md
   → 理解完整功能需求和验收标准

2. 阅读 02_技术架构设计文档.md
   → 理解模块划分和数据流
```

### 6.2 深入核心逻辑 (2-3小时)

```
3. 阅读 03_游戏规则与AI算法要点.md
   → 掌握五子棋规则和AI实现

4. 查看 game-core.js 源码
   → 理解游戏引擎的实现细节
```

### 6.3 UI和交互 (1-2小时)

```
5. 阅读 04_UI设计与交互规范.md
   → 理解界面设计和交互流程

6. 查看 board-renderer.js 和 demo.js
   → 理解渲染和UI控制实现
```

### 6.4 开始开发 (持续)

```
7. 阅读 05_重新开发任务规划清单.md
   → 按照任务清单逐步实现功能

8. 参考 06_开发建议与最佳实践.md
   → 遵循编码规范和最佳实践

9. 查阅 07_核心代码示例与模板.md
   → 复制粘贴可用的代码模板
```

---

## 7. 常见问题

### Q1: 为什么双击index.html无法运行？
**A**: 可能是浏览器安全策略限制。建议使用HTTP服务器。

### Q2: 模块加载失败怎么办？
**A**: 检查脚本加载顺序，确保依赖关系正确。打开控制台查看错误信息。

### Q3: AI思考时间过长？
**A**: 地狱难度AI深度搜索较慢，属正常现象。可以调低难度或优化算法。

### Q4: 禁手检测不准确？
**A**: 参考`03_游戏规则与AI算法要点.md`中的禁手算法实现。注意活三的定义。

### Q5: Canvas渲染模糊？
**A**: 检查devicePixelRatio设置，确保Canvas尺寸与CSS尺寸匹配。

---

## 8. 快速参考

### 8.1 关键API

```javascript
// 游戏核心API
game.placePiece(x, y)         // 落子
game.undo()                   // 悔棋
game.reset()                  // 重置游戏
game.checkForbidden(x, y)     // 检查禁手
game.getBoardState()          // 获取棋盘状态
game.exportData()             // 导出游戏数据

// 渲染器API
boardRenderer.render()        // 重绘棋盘
boardRenderer.highlightHintPosition(x, y)  // 高亮提示位置

// 工具API
GameUtils.showMessage(msg, type)           // 显示消息
GameUtils.downloadAsJSON(data, filename)   // 下载JSON
```

### 8.2 重要常量

```javascript
const BOARD_SIZE = 15;           // 棋盘大小
const EMPTY = 0;                 // 空位
const BLACK = 1;                 // 黑棋
const WHITE = 2;                 // 白棋
const CELL_SIZE = 36;            // 格子大小(像素)
const PADDING = 30;              // 棋盘边距
```

### 8.3 快捷键

```
Ctrl/Cmd + N  →  新游戏
Ctrl/Cmd + Z  →  悔棋
M             →  切换模式
H             →  获取提示
Esc           →  关闭弹窗
```

---

## 9. 项目特色亮点

### 9.1 技术亮点
- ✅ 零依赖，纯原生JavaScript
- ✅ 模块化设计，职责清晰
- ✅ 完整的错误处理和日志
- ✅ 性能优化的AI算法

### 9.2 功能亮点
- ✅ 严格遵循五子棋竞赛规则
- ✅ 4级AI难度，从新手到地狱
- ✅ VCF练习系统，40道题库
- ✅ 音乐播放器风格回放界面

### 9.3 代码质量
- ✅ JSDoc注释完整
- ✅ 变量命名规范
- ✅ 代码复用性高
- ✅ 易于扩展和维护

---

## 10. 立即开始

```bash
# 克隆或下载项目
git clone <repository-url>
cd gomoku-game

# 启动服务器
python3 -m http.server 8080

# 打开浏览器
open http://localhost:8080

# 开始游戏或查看代码！
```

---

**下一步**: 阅读 [01_项目需求规格说明书.md](./01_项目需求规格说明书.md) 了解完整功能需求

**遇到问题**: 查阅 [09_常见问题与解决方案.md](./09_常见问题与解决方案.md)
