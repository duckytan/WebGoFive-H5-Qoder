# H5äº”å­æ£‹æ–°é¡¹ç›®å¼€å‘æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºä¹‹å‰é¡¹ç›®çš„ç»éªŒæ•™è®­ï¼Œé‡æ–°å¼€å‘ä¸€ä¸ªç¨³å®šã€é«˜è´¨é‡çš„H5äº”å­æ£‹æ¸¸æˆã€‚

### æ ¸å¿ƒç›®æ ‡
- âœ… é¿å…åŸé¡¹ç›®çš„æŠ€æœ¯å€ºåŠ¡å’Œæ¶æ„é—®é¢˜
- âœ… å®ç°å®Œæ•´çš„äº”å­æ£‹åŠŸèƒ½å’Œç¦æ‰‹è§„åˆ™
- âœ… æä¾›ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ
- âœ… ç¡®ä¿ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§

---

## âš ï¸ å¿…é¡»é¿å…çš„é—®é¢˜ï¼ˆæ¥è‡ªåŸé¡¹ç›®æ•™è®­ï¼‰

### 1. æ¨¡å—å¯¼å‡ºé—®é¢˜ ğŸš¨
**åŸé¡¹ç›®é—®é¢˜**ï¼š14ä¸ªæ¨¡å—ä¸­13ä¸ªæ— æ³•åŠ è½½ï¼Œæ¨¡å—åŠ è½½ç‡ä»…7%
**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// âœ… æ­£ç¡®çš„æ¨¡å—å¯¼å‡ºæ¨¡å¼
class GameManager {
    // ç±»å®ç°
}

// ç¡®ä¿æµè§ˆå™¨ç¯å¢ƒå¯ç”¨
if (typeof window !== 'undefined') {
    window.GameManager = GameManager;
}
```

### 2. JavaScriptè¯­æ³•é”™è¯¯ ğŸš¨
**åŸé¡¹ç›®é—®é¢˜**ï¼šåœ¨strict modeä¸‹ä½¿ç”¨`eval`å…³é”®å­—å¯¼è‡´è¯­æ³•é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- é¿å…ä½¿ç”¨JavaScriptä¿ç•™å…³é”®å­—ä½œä¸ºå˜é‡å
- ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥æµç¨‹

### 3. ä¾èµ–ç®¡ç†æ··ä¹± ğŸš¨
**åŸé¡¹ç›®é—®é¢˜**ï¼šSystemIntegratoråœ¨å…¶ä»–æ¨¡å—åŠ è½½å‰å°±åˆå§‹åŒ–
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ˜ç¡®æ¨¡å—åŠ è½½é¡ºåº
- å»¶è¿Ÿåˆå§‹åŒ–å¤æ‚ä¾èµ–
- æä¾›ä¾èµ–æ£€æŸ¥æœºåˆ¶

### 4. APIè®¾è®¡ä¸ä¸€è‡´ ğŸš¨
**åŸé¡¹ç›®é—®é¢˜**ï¼šæµ‹è¯•ç”¨ä¾‹ä¸å®é™…APIæ¥å£ä¸åŒ¹é…
**è§£å†³æ–¹æ¡ˆ**ï¼š
- è®¾è®¡é˜¶æ®µå°±å®šä¹‰æ¸…æ™°çš„APIè§„èŒƒ
- æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)
- APIæ–‡æ¡£ä¸ä»£ç åŒæ­¥æ›´æ–°

### 5. ç¼ºä¹é˜²å¾¡æ€§ç¼–ç¨‹ ğŸš¨
**åŸé¡¹ç›®é—®é¢˜**ï¼šç©ºå€¼æ£€æŸ¥ç¼ºå¤±å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// âœ… é˜²å¾¡æ€§ç¼–ç¨‹ç¤ºä¾‹
function processBoard(board) {
    if (!board || !board.grid) {
        console.warn('processBoard: boardå‚æ•°æ— æ•ˆ');
        return getDefaultBoard();
    }
    // å¤„ç†é€»è¾‘
}
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

### å¿…å¤‡åŠŸèƒ½
1. **åŸºç¡€æ¸¸æˆåŠŸèƒ½**
   - 15Ã—15æ£‹ç›˜
   - é»‘ç™½æ£‹å­è½®æµä¸‹å­
   - äº”å­è¿ç è·èƒœåˆ¤å®š

2. **ç¦æ‰‹è§„åˆ™**ï¼ˆé‡ç‚¹å‚è€ƒlive-three-patterns.mdï¼‰
   - ä¸‰ä¸‰ç¦æ‰‹ï¼šä¸€æ­¥æ£‹å½¢æˆä¸¤ä¸ªæ´»ä¸‰
   - å››å››ç¦æ‰‹ï¼šä¸€æ­¥æ£‹å½¢æˆä¸¤ä¸ªå››
   - é•¿è¿ç¦æ‰‹ï¼šä¸€æ­¥æ£‹å½¢æˆå…­å­ä»¥ä¸Šè¿çº¿
   - å®æ—¶ç¦æ‰‹ä½ç½®æç¤º

3. **åŒæ¨¡å¼æ”¯æŒ**
   - åŒäººå¯¹æˆ˜(PvP)
   - äººæœºå¯¹æˆ˜(PvE)

4. **åŸºç¡€äº¤äº’**
   - é¼ æ ‡ç‚¹å‡»ä¸‹æ£‹
   - æ‚”æ£‹åŠŸèƒ½
   - æ–°æ¸¸æˆåŠŸèƒ½

### æ‰©å±•åŠŸèƒ½ï¼ˆåæœŸå®ç°ï¼‰
- æ¸¸æˆä¿å­˜/åŠ è½½
- æ£‹å±€å›æ”¾
- AIéš¾åº¦è°ƒèŠ‚
- è§¦æ‘¸è®¾å¤‡æ”¯æŒ

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**ï¼šçº¯JavaScript (ES6+)
- **æ¸²æŸ“**ï¼šHTML5 Canvas 2D API
- **æ¶æ„**ï¼šé¢å‘å¯¹è±¡è®¾è®¡ï¼Œæ¨¡å—åŒ–ç»„ä»¶
- **å­˜å‚¨**ï¼šLocalStorage
- **æµ‹è¯•**ï¼šè‡ªå®šä¹‰æµ‹è¯•æ¡†æ¶

### æ ¸å¿ƒæ¨¡å—è®¾è®¡ï¼ˆç²¾ç®€ç‰ˆï¼‰

#### 1. æ•°æ®å±‚
```
Board.js           - æ£‹ç›˜çŠ¶æ€ç®¡ç†ï¼ˆçº¯æ•°æ®æ¨¡å‹ï¼‰
GameState.js       - æ¸¸æˆçŠ¶æ€ç®¡ç†
```

#### 2. é€»è¾‘å±‚
```
RuleEngine.js      - äº”å­æ£‹è§„åˆ™å’Œç¦æ‰‹æ£€æµ‹
GameManager.js     - æ¸¸æˆæµç¨‹æ§åˆ¶ï¼ˆæ ¸å¿ƒåè°ƒå™¨ï¼‰
AIEngine.js        - AIç®—æ³•ï¼ˆå¯é€‰ï¼ŒåæœŸå®ç°ï¼‰
```

#### 3. å±•ç¤ºå±‚
```
CanvasRenderer.js  - Canvasæ¸²æŸ“å¼•æ“
InputHandler.js    - ç”¨æˆ·è¾“å…¥å¤„ç†
```

#### 4. å·¥å…·å±‚
```
Utils.js           - é€šç”¨å·¥å…·å‡½æ•°
ErrorHandler.js    - é”™è¯¯å¤„ç†å’Œæ—¥å¿—
```

### æ¨¡å—ä¾èµ–å…³ç³»
```
GameManager (æ ¸å¿ƒ)
    â”œâ”€â”€ Board (æ•°æ®)
    â”œâ”€â”€ RuleEngine (é€»è¾‘)
    â”œâ”€â”€ CanvasRenderer (æ¸²æŸ“)
    â”œâ”€â”€ InputHandler (è¾“å…¥)
    â””â”€â”€ ErrorHandler (é”™è¯¯å¤„ç†)
```

---

## ğŸ”§ å¼€å‘è§„èŒƒ

### 1. ä»£ç è§„èŒƒ
```javascript
// âœ… å‘½åçº¦å®š
class GameManager {}        // ç±»åï¼šPascalCase
function makeMove() {}      // æ–¹æ³•åï¼šcamelCase
const BOARD_SIZE = 15;      // å¸¸é‡ï¼šUPPER_SNAKE_CASE

// âœ… æ¨¡å—å¯¼å‡ºè§„èŒƒ
class ModuleName {
    constructor() {
        this.validateInputs();
    }
    
    validateInputs() {
        // è¾“å…¥éªŒè¯é€»è¾‘
    }
}

// æµè§ˆå™¨ç¯å¢ƒå¯¼å‡º
if (typeof window !== 'undefined') {
    window.ModuleName = ModuleName;
}
```

### 2. é”™è¯¯å¤„ç†è§„èŒƒ
```javascript
// âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
class ErrorHandler {
    static handleError(error, context) {
        console.error(`[${context}] ${error.message}`);
        // é”™è¯¯ä¸ŠæŠ¥é€»è¾‘
    }
    
    static validateInput(input, rules) {
        // è¾“å…¥éªŒè¯é€»è¾‘
    }
}
```

### 3. æµ‹è¯•è§„èŒƒ
```javascript
// âœ… ç®€å•æµ‹è¯•æ¡†æ¶
class SimpleTest {
    static assert(condition, message) {
        if (!condition) {
            throw new Error(message);
        }
    }
    
    static async runTest(name, testFn) {
        try {
            await testFn();
            console.log(`âœ… ${name}`);
            return true;
        } catch (error) {
            console.error(`âŒ ${name}: ${error.message}`);
            return false;
        }
    }
}
```

---

## ğŸ® äº”å­æ£‹è§„åˆ™æ ¸å¿ƒçŸ¥è¯†

### æ´»ä¸‰å½¢æ€åˆ†æï¼ˆæ¥è‡ªlive-three-patterns.mdï¼‰

#### 1. è¿ä¸‰å‹æ´»ä¸‰
```
_â—â—â—_    æ ‡å‡†è¿ä¸‰ï¼Œä¸¤ç«¯éƒ½ç©º
éœ€è¦ç©ºé—´ï¼š5æ ¼
```

#### 2. è·³ä¸‰å‹æ´»ä¸‰
```
_â—â—_â—_   è¿äºŒè·³ä¸€
_â—_â—â—_   è·³ä¸€è¿äºŒ
éœ€è¦ç©ºé—´ï¼š6æ ¼
```

#### 3. ç¦æ‰‹æ£€æµ‹ç®—æ³•
```javascript
// æ´»ä¸‰æ£€æµ‹ä¼ªä»£ç 
function checkLiveThree(board, x, y, player) {
    const patterns = [
        '_â—â—â—_',     // è¿ä¸‰
        '_â—â—_â—_',    // è¿äºŒè·³ä¸€
        '_â—_â—â—_'     // è·³ä¸€è¿äºŒ
    ];
    
    for (const pattern of patterns) {
        if (matchPattern(board, x, y, pattern, player)) {
            return true;
        }
    }
    return false;
}
```

---

## ğŸ“ å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½
1. **æ­å»ºåŸºç¡€æ¶æ„**
   - åˆ›å»ºHTMLé¡µé¢ç»“æ„
   - å®ç°Canvasæ¸²æŸ“åŸºç¡€
   - å»ºç«‹æ¨¡å—åŠ è½½æœºåˆ¶

2. **å®ç°åŸºç¡€æ¸¸æˆ**
   - Boardç±»ï¼šæ£‹ç›˜çŠ¶æ€ç®¡ç†
   - åŸºæœ¬çš„è½å­å’Œæ¸²æŸ“
   - ç®€å•çš„èƒœè´Ÿåˆ¤å®š

3. **å®Œå–„è§„åˆ™å¼•æ“**
   - äº”è¿åˆ¤å®š
   - åŸºç¡€ç¦æ‰‹æ£€æµ‹
   - æ¸¸æˆæµç¨‹æ§åˆ¶

### ç¬¬äºŒé˜¶æ®µï¼šç”¨æˆ·ä½“éªŒ
1. **äº¤äº’ä¼˜åŒ–**
   - é¼ æ ‡æ‚¬åœé¢„è§ˆ
   - ç¦æ‰‹ä½ç½®æç¤º
   - æ“ä½œåé¦ˆ

2. **åŠŸèƒ½å®Œå–„**
   - æ‚”æ£‹åŠŸèƒ½
   - æ¸¸æˆæ¨¡å¼åˆ‡æ¢
   - åŸºç¡€AIï¼ˆå¯é€‰ï¼‰

### ç¬¬ä¸‰é˜¶æ®µï¼šæ‰©å±•åŠŸèƒ½
1. **æ•°æ®æŒä¹…åŒ–**
   - æ¸¸æˆä¿å­˜/åŠ è½½
   - è®¾ç½®ä¿å­˜

2. **é«˜çº§åŠŸèƒ½**
   - æ£‹å±€å›æ”¾
   - ç»Ÿè®¡åŠŸèƒ½
   - æ€§èƒ½ä¼˜åŒ–

---

## âœ… è´¨é‡ä¿è¯

### 1. å¼€å‘æ—¶æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰æ¨¡å—æ­£ç¡®å¯¼å‡ºåˆ°windowå¯¹è±¡
- [ ] ä½¿ç”¨ESLintæ£€æŸ¥è¯­æ³•é”™è¯¯
- [ ] æ¯ä¸ªå‡½æ•°éƒ½æœ‰è¾“å…¥éªŒè¯
- [ ] å…³é”®æ“ä½œéƒ½æœ‰é”™è¯¯å¤„ç†
- [ ] æµ‹è¯•ç”¨ä¾‹ä¸APIæ¥å£ä¸€è‡´

### 2. æµ‹è¯•ç­–ç•¥
- **å•å…ƒæµ‹è¯•**ï¼šæ¯ä¸ªæ¨¡å—ç‹¬ç«‹æµ‹è¯•
- **é›†æˆæµ‹è¯•**ï¼šæ¨¡å—é—´åä½œæµ‹è¯•
- **åŠŸèƒ½æµ‹è¯•**ï¼šå®Œæ•´æ¸¸æˆæµç¨‹æµ‹è¯•
- **å…¼å®¹æ€§æµ‹è¯•**ï¼šå¤šæµè§ˆå™¨æµ‹è¯•

### 3. ä»£ç å®¡æŸ¥é‡ç‚¹
- æ¨¡å—å¯¼å‡ºæ˜¯å¦æ­£ç¡®
- æ˜¯å¦ä½¿ç”¨äº†ä¿ç•™å…³é”®å­—
- è¾“å…¥éªŒè¯æ˜¯å¦å®Œæ•´
- é”™è¯¯å¤„ç†æ˜¯å¦åˆ°ä½
- APIè®¾è®¡æ˜¯å¦ä¸€è‡´

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### 1. é¡¹ç›®åˆå§‹åŒ–
```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir h5-gomoku-new
cd h5-gomoku-new

# åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
mkdir js css test
touch index.html js/main.js css/style.css test/test.html
```

### 2. åŸºç¡€HTMLç»“æ„
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H5äº”å­æ£‹</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas" width="480" height="480"></canvas>
        <div id="game-controls">
            <button id="new-game">æ–°æ¸¸æˆ</button>
            <button id="undo">æ‚”æ£‹</button>
        </div>
    </div>
    
    <!-- æŒ‰ä¾èµ–é¡ºåºåŠ è½½æ¨¡å— -->
    <script src="js/Utils.js"></script>
    <script src="js/ErrorHandler.js"></script>
    <script src="js/Board.js"></script>
    <script src="js/RuleEngine.js"></script>
    <script src="js/CanvasRenderer.js"></script>
    <script src="js/InputHandler.js"></script>
    <script src="js/GameManager.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
```

### 3. å¼€å‘é¡ºåºå»ºè®®
1. å…ˆå®ç°Boardç±»ï¼ˆçº¯æ•°æ®ï¼Œæœ€ç¨³å®šï¼‰
2. å†å®ç°CanvasRendererï¼ˆè§†è§‰åé¦ˆï¼‰
3. ç„¶åå®ç°RuleEngineï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
4. æœ€åå®ç°GameManagerï¼ˆæ•´åˆæ‰€æœ‰æ¨¡å—ï¼‰

---

## ğŸ“š å‚è€ƒèµ„æº

- **åŸé¡¹ç›®æ•™è®­**ï¼štroubleshooting-guide.md
- **è§„åˆ™çŸ¥è¯†**ï¼šlive-three-patterns.md
- **éœ€æ±‚å‚è€ƒ**ï¼šuser-guide.md
- **æ¶æ„æ€è·¯**ï¼šdeveloper-guide.md

---

## ğŸ› ï¸ å¼€å‘å·¥å…·å’Œç¯å¢ƒ

### 1. å¿…å¤‡å¼€å‘å·¥å…·
```bash
# æ¨èçš„å¼€å‘ç¯å¢ƒ
- ä»£ç ç¼–è¾‘å™¨ï¼šVS Code / WebStorm
- ç‰ˆæœ¬æ§åˆ¶ï¼šGit
- ä»£ç æ£€æŸ¥ï¼šESLint
- æœ¬åœ°æœåŠ¡å™¨ï¼šLive Server (VS Codeæ’ä»¶) / http-server
- æµè§ˆå™¨ï¼šChrome (å¼€å‘è€…å·¥å…·)
```

### 2. ESLinté…ç½®
```json
// .eslintrc.json
{
  "env": {
    "browser": true,
    "es6": true
  },
  "extends": "eslint:recommended",
  "parserOptions": {
    "ecmaVersion": 2018,
    "sourceType": "module"
  },
  "rules": {
    "no-eval": "error",
    "no-implied-eval": "error",
    "no-undef": "error",
    "no-unused-vars": "warn",
    "no-console": "warn"
  }
}
```

### 3. Gitå·¥ä½œæµ
```bash
# åˆ†æ”¯ç®¡ç†ç­–ç•¥
main/master     # ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬
develop        # å¼€å‘åˆ†æ”¯
feature/*      # åŠŸèƒ½åˆ†æ”¯
hotfix/*       # çƒ­ä¿®å¤åˆ†æ”¯

# æäº¤ä¿¡æ¯è§„èŒƒ
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

---

## ğŸ” è°ƒè¯•å’Œç›‘æ§

### 1. è°ƒè¯•å·¥å…·
```javascript
// å…¨å±€è°ƒè¯•å¯¹è±¡
window.GameDebug = {
    board: null,
    gameManager: null,
    ruleEngine: null,
    
    // è°ƒè¯•ä¿¡æ¯è¾“å‡º
    logState() {
        console.log('Game State:', this.gameManager?.gameState);
        console.log('Board State:', this.board?.grid);
    },
    
    // æ€§èƒ½ç›‘æ§
    startPerformanceMonitor() {
        this.performanceStart = performance.now();
    },
    
    endPerformanceMonitor(operation) {
        const duration = performance.now() - this.performanceStart;
        console.log(`${operation} took ${duration.toFixed(2)}ms`);
    },
    
    // å†…å­˜ä½¿ç”¨ç›‘æ§
    checkMemoryUsage() {
        if (performance.memory) {
            const memory = performance.memory;
            console.log({
                used: Math.round(memory.usedJSHeapSize / 1024 / 1024) + 'MB',
                total: Math.round(memory.totalJSHeapSize / 1024 / 1024) + 'MB',
                limit: Math.round(memory.jsHeapSizeLimit / 1024 / 1024) + 'MB'
            });
        }
    }
};
```

### 2. æ€§èƒ½åŸºå‡†
```javascript
// æ€§èƒ½æµ‹è¯•å·¥å…·
class PerformanceBenchmark {
    static async testRenderPerformance() {
        const renderer = new CanvasRenderer('test-canvas');
        const board = new Board();
        
        // æµ‹è¯•æ¸²æŸ“100æ¬¡çš„å¹³å‡æ—¶é—´
        const startTime = performance.now();
        for (let i = 0; i < 100; i++) {
            renderer.render(board, { currentPlayer: 1 });
        }
        const avgTime = (performance.now() - startTime) / 100;
        
        console.log(`å¹³å‡æ¸²æŸ“æ—¶é—´: ${avgTime.toFixed(2)}ms`);
        return avgTime < 16; // 60fpsæ ‡å‡†
    }
    
    static async testAIPerformance() {
        const ai = new AIEngine();
        const board = new Board();
        
        const startTime = performance.now();
        await ai.makeMove(board, 2);
        const duration = performance.now() - startTime;
        
        console.log(`AIè®¡ç®—æ—¶é—´: ${duration.toFixed(2)}ms`);
        return duration < 3000; // 3ç§’æ ‡å‡†
    }
}
```

### 3. é”™è¯¯æ”¶é›†å’Œä¸ŠæŠ¥
```javascript
// é”™è¯¯æ”¶é›†å™¨
class ErrorCollector {
    static errors = [];
    
    static collectError(error, context) {
        const errorInfo = {
            message: error.message,
            stack: error.stack,
            context: context,
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            url: window.location.href
        };
        
        this.errors.push(errorInfo);
        
        // å¼€å‘ç¯å¢ƒä¸‹ç›´æ¥è¾“å‡º
        if (this.isDevelopment()) {
            console.error('æ”¶é›†åˆ°é”™è¯¯:', errorInfo);
        }
        
        // ç”Ÿäº§ç¯å¢ƒä¸‹å¯ä»¥å‘é€åˆ°é”™è¯¯ç›‘æ§æœåŠ¡
        // this.sendToErrorService(errorInfo);
    }
    
    static isDevelopment() {
        return window.location.hostname === 'localhost' || 
               window.location.hostname === '127.0.0.1';
    }
    
    static getErrorReport() {
        return {
            totalErrors: this.errors.length,
            errors: this.errors,
            summary: this.generateErrorSummary()
        };
    }
    
    static generateErrorSummary() {
        const summary = {};
        this.errors.forEach(error => {
            const key = error.context || 'unknown';
            summary[key] = (summary[key] || 0) + 1;
        });
        return summary;
    }
}

// å…¨å±€é”™è¯¯å¤„ç†
window.addEventListener('error', (event) => {
    ErrorCollector.collectError(event.error, 'global');
});

window.addEventListener('unhandledrejection', (event) => {
    ErrorCollector.collectError(new Error(event.reason), 'promise');
});
```

---

## ğŸ“¦ æ„å»ºå’Œéƒ¨ç½²

### 1. å¼€å‘æœåŠ¡å™¨å¯åŠ¨
```bash
# ä½¿ç”¨ Python (æ¨è)
python -m http.server 8000

# ä½¿ç”¨ Node.js
npx http-server -p 8000 -c-1

# ä½¿ç”¨ PHP
php -S localhost:8000
```

### 2. ç”Ÿäº§ç¯å¢ƒæ„å»º
```javascript
// build.js - ç®€å•çš„æ„å»ºè„šæœ¬
const fs = require('fs');
const path = require('path');

class BuildTool {
    static minifyJS(jsContent) {
        // ç®€å•çš„JSå‹ç¼©ï¼ˆç§»é™¤æ³¨é‡Šå’Œå¤šä½™ç©ºç™½ï¼‰
        return jsContent
            .replace(/\/\*[\s\S]*?\*\//g, '') // ç§»é™¤å—æ³¨é‡Š
            .replace(/\/\/.*$/gm, '') // ç§»é™¤è¡Œæ³¨é‡Š
            .replace(/\s+/g, ' ') // å‹ç¼©ç©ºç™½
            .trim();
    }
    
    static minifyCSS(cssContent) {
        return cssContent
            .replace(/\/\*[\s\S]*?\*\//g, '')
            .replace(/\s+/g, ' ')
            .replace(/;\s*}/g, '}')
            .trim();
    }
    
    static async build() {
        console.log('å¼€å§‹æ„å»º...');
        
        // åˆ›å»ºdistç›®å½•
        if (!fs.existsSync('dist')) {
            fs.mkdirSync('dist');
        }
        
        // å¤„ç†HTML
        const htmlContent = fs.readFileSync('index.html', 'utf8');
        fs.writeFileSync('dist/index.html', htmlContent);
        
        // å¤„ç†JSæ–‡ä»¶
        const jsFiles = ['Utils.js', 'ErrorHandler.js', 'Board.js', 
                        'RuleEngine.js', 'CanvasRenderer.js', 'InputHandler.js', 
                        'GameManager.js', 'main.js'];
        
        for (const file of jsFiles) {
            const content = fs.readFileSync(`js/${file}`, 'utf8');
            const minified = this.minifyJS(content);
            fs.writeFileSync(`dist/js/${file}`, minified);
        }
        
        console.log('æ„å»ºå®Œæˆ!');
    }
}

// è¿è¡Œæ„å»º
BuildTool.build();
```

### 3. éƒ¨ç½²æ¸…å•
```bash
# éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•
âœ… æ‰€æœ‰æ¨¡å—æ­£ç¡®å¯¼å‡º
âœ… ESLintæ£€æŸ¥é€šè¿‡
âœ… å•å…ƒæµ‹è¯•é€šè¿‡
âœ… é›†æˆæµ‹è¯•é€šè¿‡
âœ… æ€§èƒ½åŸºå‡†è¾¾æ ‡
âœ… æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
âœ… é”™è¯¯å¤„ç†å®Œæ•´
âœ… æ–‡æ¡£æ›´æ–°å®Œæˆ
```

---

## ğŸ§ª æµ‹è¯•æ¡†æ¶è¯¦ç»†è¯´æ˜

### 1. æµ‹è¯•æ–‡ä»¶ç»“æ„
```
test/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ Board.test.js
â”‚   â”œâ”€â”€ RuleEngine.test.js
â”‚   â””â”€â”€ GameManager.test.js
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ game-flow.test.js
â”‚   â””â”€â”€ ai-integration.test.js
â”œâ”€â”€ performance/
â”‚   â””â”€â”€ benchmark.test.js
â””â”€â”€ test-runner.html
```

### 2. å®Œæ•´æµ‹è¯•ç¤ºä¾‹
```javascript
// test/unit/Board.test.js
class BoardTest {
    static async runAllTests() {
        const tests = [
            this.testBoardInitialization,
            this.testPlacePiece,
            this.testInvalidMoves,
            this.testBoardClone,
            this.testBoardClear
        ];
        
        let passed = 0;
        let total = tests.length;
        
        for (const test of tests) {
            try {
                await test.call(this);
                console.log(`âœ… ${test.name}`);
                passed++;
            } catch (error) {
                console.error(`âŒ ${test.name}: ${error.message}`);
            }
        }
        
        console.log(`Boardæµ‹è¯•ç»“æœ: ${passed}/${total} é€šè¿‡`);
        return { passed, total, success: passed === total };
    }
    
    static async testBoardInitialization() {
        const board = new Board();
        
        SimpleTest.assert(board.size === 15, 'æ£‹ç›˜å°ºå¯¸åº”ä¸º15');
        SimpleTest.assert(board.grid.length === 15, 'ç½‘æ ¼è¡Œæ•°åº”ä¸º15');
        SimpleTest.assert(board.grid[0].length === 15, 'ç½‘æ ¼åˆ—æ•°åº”ä¸º15');
        SimpleTest.assert(board.moveCount === 0, 'åˆå§‹ç§»åŠ¨æ•°åº”ä¸º0');
        SimpleTest.assert(board.lastMove === null, 'åˆå§‹æœ€åç§»åŠ¨åº”ä¸ºnull');
    }
    
    static async testPlacePiece() {
        const board = new Board();
        
        const success = board.placePiece(7, 7, 1);
        SimpleTest.assert(success === true, 'æœ‰æ•ˆä½ç½®åº”è¯¥èƒ½æ”¾ç½®æ£‹å­');
        SimpleTest.assert(board.getPiece(7, 7) === 1, 'æ”¾ç½®çš„æ£‹å­åº”è¯¥æ­£ç¡®');
        SimpleTest.assert(board.moveCount === 1, 'ç§»åŠ¨è®¡æ•°åº”è¯¥å¢åŠ ');
        
        const lastMove = board.lastMove;
        SimpleTest.assert(lastMove.x === 7, 'æœ€åç§»åŠ¨Xåæ ‡æ­£ç¡®');
        SimpleTest.assert(lastMove.y === 7, 'æœ€åç§»åŠ¨Yåæ ‡æ­£ç¡®');
        SimpleTest.assert(lastMove.player === 1, 'æœ€åç§»åŠ¨ç©å®¶æ­£ç¡®');
    }
    
    static async testInvalidMoves() {
        const board = new Board();
        
        // æµ‹è¯•é‡å¤æ”¾ç½®
        board.placePiece(7, 7, 1);
        const duplicate = board.placePiece(7, 7, 2);
        SimpleTest.assert(duplicate === false, 'ä¸åº”è¯¥èƒ½åœ¨å·²æœ‰æ£‹å­çš„ä½ç½®æ”¾ç½®');
        
        // æµ‹è¯•è¶Šç•Œ
        const outOfBounds = board.placePiece(15, 15, 1);
        SimpleTest.assert(outOfBounds === false, 'ä¸åº”è¯¥èƒ½åœ¨è¶Šç•Œä½ç½®æ”¾ç½®');
        
        // æµ‹è¯•è´Ÿåæ ‡
        const negative = board.placePiece(-1, -1, 1);
        SimpleTest.assert(negative === false, 'ä¸åº”è¯¥èƒ½åœ¨è´Ÿåæ ‡ä½ç½®æ”¾ç½®');
    }
    
    static async testBoardClone() {
        const board = new Board();
        board.placePiece(7, 7, 1);
        board.placePiece(8, 8, 2);
        
        const cloned = board.clone();
        
        SimpleTest.assert(cloned !== board, 'å…‹éš†åº”è¯¥æ˜¯ä¸åŒçš„å¯¹è±¡');
        SimpleTest.assert(cloned.getPiece(7, 7) === 1, 'å…‹éš†åº”è¯¥ä¿æŒæ£‹å­çŠ¶æ€');
        SimpleTest.assert(cloned.getPiece(8, 8) === 2, 'å…‹éš†åº”è¯¥ä¿æŒæ£‹å­çŠ¶æ€');
        SimpleTest.assert(cloned.moveCount === board.moveCount, 'å…‹éš†åº”è¯¥ä¿æŒç§»åŠ¨è®¡æ•°');
        
        // éªŒè¯æ·±æ‹·è´
        cloned.placePiece(0, 0, 1);
        SimpleTest.assert(board.getPiece(0, 0) === 0, 'åŸå¯¹è±¡ä¸åº”è¯¥å—å…‹éš†å¯¹è±¡ä¿®æ”¹å½±å“');
    }
    
    static async testBoardClear() {
        const board = new Board();
        board.placePiece(7, 7, 1);
        board.placePiece(8, 8, 2);
        
        board.clear();
        
        SimpleTest.assert(board.moveCount === 0, 'æ¸…ç©ºåç§»åŠ¨è®¡æ•°åº”ä¸º0');
        SimpleTest.assert(board.lastMove === null, 'æ¸…ç©ºåæœ€åç§»åŠ¨åº”ä¸ºnull');
        SimpleTest.assert(board.getPiece(7, 7) === 0, 'æ¸…ç©ºåæ£‹ç›˜åº”ä¸ºç©º');
        SimpleTest.assert(board.getPiece(8, 8) === 0, 'æ¸…ç©ºåæ£‹ç›˜åº”ä¸ºç©º');
    }
}
```

---

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†å’Œæ›´æ–°ç­–ç•¥

### 1. ç‰ˆæœ¬å·è§„èŒƒ
```
ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å· (major.minor.patch)

ä¾‹å¦‚ï¼š1.2.3
- ä¸»ç‰ˆæœ¬å·(1)ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
- æ¬¡ç‰ˆæœ¬å·(2)ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- ä¿®è®¢å·(3)ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
```

### 2. æ›´æ–°æ—¥å¿—æ¨¡æ¿
```markdown
# æ›´æ–°æ—¥å¿—

## [1.1.0] - 2024-01-15

### æ–°å¢
- æ·»åŠ AIå¯¹æˆ˜æ¨¡å¼
- å®ç°ç¦æ‰‹è§„åˆ™æ£€æµ‹
- æ·»åŠ æ¸¸æˆä¿å­˜åŠŸèƒ½

### ä¿®æ”¹
- ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
- æ”¹è¿›ç”¨æˆ·ç•Œé¢å¸ƒå±€

### ä¿®å¤
- ä¿®å¤æ‚”æ£‹åŠŸèƒ½bug
- è§£å†³ç§»åŠ¨è®¾å¤‡å…¼å®¹æ€§é—®é¢˜

### ç§»é™¤
- ç§»é™¤ä¸å¿…è¦çš„è°ƒè¯•ä»£ç 
```

---

*æœ¬æŒ‡å—åŸºäºåŸé¡¹ç›®çš„ç»éªŒæ•™è®­ç¼–å†™ï¼Œæ—¨åœ¨é¿å…é‡å¤çŠ¯é”™ï¼Œå¿«é€Ÿæ„å»ºé«˜è´¨é‡çš„äº”å­æ£‹æ¸¸æˆã€‚*